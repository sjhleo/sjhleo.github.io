import{o as l,c as e,b as t,d as a}from"./app.0f37f8f2.js";const r='{"title":"HTTPS","description":"","frontmatter":{"title":"HTTPS"},"headers":[{"level":3,"title":"HTTP 存在的问题","slug":"http-存在的问题"},{"level":3,"title":"HTTPS 流程图","slug":"https-流程图"},{"level":3,"title":"使用对称加密和非对称加密相结合的原因","slug":"使用对称加密和非对称加密相结合的原因"}],"relativePath":"note/https.md","lastUpdated":1624897241414}',h={},i=t("h3",{id:"http-存在的问题"},[t("a",{class:"header-anchor",href:"#http-存在的问题","aria-hidden":"true"},"#"),a(" HTTP 存在的问题")],-1),s=t("ul",null,[t("li",null,"通信使用明文（不加密），内容可能被窃听"),t("li",null,"无法证明报文的完整性，所以可能遭篡改"),t("li",null,"不验证通信方的身份，因此有可能遭遇伪装")],-1),n=t("h3",{id:"https-流程图"},[t("a",{class:"header-anchor",href:"#https-流程图","aria-hidden":"true"},"#"),a(" HTTPS 流程图")],-1),d=t("p",null,[t("img",{src:"/assets/https流程图.40ed1bb0.png",alt:"https"})],-1),u=t("h4",{id:"验证证书签名"},[t("a",{class:"header-anchor",href:"#验证证书签名","aria-hidden":"true"},"#"),a(" 验证证书签名")],-1),p=t("ol",null,[t("li",null,"服务器向第三方机构 CA 申请认证。"),t("li",null,[a("信息审核通过，CA 会向申请者签发认证文件-证书。证书包含以下信息：申请者公钥、申请者的组织信息和个人信息、签发机构 CA 的信息、有效时间、证书序列号等信息的明文，同时包含一个签名。 其中签名的产生算法：首先，使用散列函数计算公开的明文信息的信息摘要，然后，采用 CA 的私钥对信息摘要进行加密，密文即签名 "),t("img",{src:"/assets/https证书生成.8f00d9d3.png",alt:"https证书生成"})]),t("li",null,"客户端 Client 向服务器 Server 发出请求时，Server 返回证书文件"),t("li",null,[a("客户端 Client 读取证书中的相关的明文信息，采用相同的散列函数计算得到信息摘要，然后，利用对应 CA 的公钥解密签名数据，对比证书的信息摘要，如果一致，则可以确认证书的合法性，即服务器的公开密钥是值得信赖的 "),t("img",{src:"/assets/https验证证书签名.8a83490c.png",alt:"https验证证书签名"})])],-1),c=t("h4",{id:"客户端生成会话秘钥（对称加密的秘钥）"},[t("a",{class:"header-anchor",href:"#客户端生成会话秘钥（对称加密的秘钥）","aria-hidden":"true"},"#"),a(" 客户端生成会话秘钥（对称加密的秘钥）")],-1),o=t("p",null,"验证证书成功后，说明服务器的公开秘钥是值得信赖的，客户端基于一定规则生成本次会话的秘钥，并使用服务器的公钥加密传输。",-1),f=t("h4",{id:"服务器接受会话秘钥"},[t("a",{class:"header-anchor",href:"#服务器接受会话秘钥","aria-hidden":"true"},"#"),a(" 服务器接受会话秘钥")],-1),T=t("p",null,"服务器接收客户端发送的会话秘钥，使用服务器私钥解密，然后使用这个会话秘钥对本次会话要发送的内容进行对称加密传输。",-1),g=t("h4",{id:"客户端与服务器通讯"},[t("a",{class:"header-anchor",href:"#客户端与服务器通讯","aria-hidden":"true"},"#"),a(" 客户端与服务器通讯")],-1),m=t("p",null,"客户端使用生成的会话秘钥对服务器发送的内容进行对称解密，并对向服务器发送的会话内容进行对称加密传输",-1),v=t("h3",{id:"使用对称加密和非对称加密相结合的原因"},[t("a",{class:"header-anchor",href:"#使用对称加密和非对称加密相结合的原因","aria-hidden":"true"},"#"),a(" 使用对称加密和非对称加密相结合的原因")],-1),C=t("ul",null,[t("li",null,"单独使用对称加密，秘钥的传输存在被截获的风险"),t("li",null,"单独使用非对称加密，公钥是公开的，所以针对私钥加密的信息，黑客截获后可以使用公钥进行解密，获取其中的内容"),t("li",null,"单独使用非对称加密，公钥并不包含服务器的信息，使用非对称加密算法无法确保服务器身份的合法性，存在中间人攻击的风险，服务器发送给客户端的公钥可能在传送过程中被中间人截获并篡改"),t("li",null,"单独使用非对称加密在数据加密解密过程需要消耗一定时间，降低了数据传输效率")],-1);h.render=function(t,a,r,h,P,H){return l(),e("div",null,[i,s,n,d,u,p,c,o,f,T,g,m,v,C])};export default h;export{r as __pageData};
